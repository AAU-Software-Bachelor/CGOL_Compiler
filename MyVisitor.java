// Generated by JTB 1.3.2
//

import syntaxtree.ClassBodyDeclaration;
import syntaxtree.ClassDeclaration;
import syntaxtree.NodeChoice;
import visitor.DepthFirstVisitor;

import java.awt.*;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;


public class MyVisitor extends DepthFirstVisitor {
   private String output;
   private String fileName;

   public MyVisitor() {
      output = "";
   }

   public void visit(ClassDeclaration n) {
      String classDecOutput = "";
      fileName = n.f2.toString() + ".java";

      classDecOutput = "package outputs;\n\n";

      classDecOutput += ((NodeChoice) n.f0.nodes.get(0)).choice.toString() + " ";
      classDecOutput += n.f1.toString() + " ";
      classDecOutput += n.f2.toString() + " ";
      classDecOutput += n.f5.toString() + "\n";
      n.f6.accept(this);
      classDecOutput += n.f7.toString();
      output += classDecOutput;
      System.out.println(output);
   }

   public void visit(ClassBodyDeclaration n) {
      String la = "";

   }

//   public void visit(TypeDeclaration n) {
//      n.f0.accept(this);
//   }


   public void writeOutputToFile() throws IOException {
      Files.write( Paths.get("outputs/" + fileName), output.getBytes());
   }

}
